{
	"info": {
		"_postman_id": "cd9007ef-aa88-4ca1-83e5-5dc466a72696",
		"name": "Audit Log API",
		"description": "Audit Log API endpoints with example headers and bodies",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "44910354"
	},
	"item": [
		{
			"name": "POST /api/v1/logs",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{jwt_token}}"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"tenant_id\": \"22222222-2222-2222-2222-222222222222\",\n  \"user_id\": \"user-5047\",\n  \"session_id\": \"sess-abc123def\",\n  \"action\": \"CREATE\",\n  \"resource_type\": \"document\",\n  \"resource_id\": \"doc-789\",\n  \"message\": \"New document created with sensitive financial data\",\n  \"metadata\": {\n    \"request_id\": \"req-9876543\",\n    \"correlation_id\": \"corr-xyz456\",\n    \"source\": \"mobile-app\",\n    \"file_size\": 2048576,\n    \"file_type\": \"application/pdf\"\n  },\n  \"before_state\": null,\n  \"after_state\": {\n    \"title\": \"Q4 Financial Report 2024\",\n    \"category\": \"financial\",\n    \"access_level\": \"confidential\",\n    \"created_by\": \"user-5047\"\n  },\n  \"severity\": \"CRITICAL\",\n  \"timestamp\": \"2025-09-15T09:45:33Z\",\n  \"ip_address\": \"10.0.2.45\",\n  \"user_agent\": \"AuditApp/2.1.0 (iPhone; iOS 17.1; Scale/3.00)\"\n}"
				},
				"url": {
					"raw": "localhost:10000/api/v1/logs",
					"host": [
						"localhost"
					],
					"port": "10000",
					"path": [
						"api",
						"v1",
						"logs"
					]
				}
			},
			"response": []
		},
		{
			"name": "GET /api/v1/logs",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{jwt_token}}"
					}
				],
				"url": {
					"raw": "localhost:10000/api/v1/logs?start_time=2025-09-01&end_time=2025-09-30&user_id=user-5047&action=CREATE&resource_type=document",
					"host": [
						"localhost"
					],
					"port": "10000",
					"path": [
						"api",
						"v1",
						"logs"
					],
					"query": [
						{
							"key": "start_time",
							"value": "2025-09-01"
						},
						{
							"key": "end_time",
							"value": "2025-09-30"
						},
						{
							"key": "user_id",
							"value": "user-5047"
						},
						{
							"key": "action",
							"value": "CREATE"
						},
						{
							"key": "resource_type",
							"value": "document"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "GET /api/v1/logs/{id}",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{jwt_token}}"
					}
				],
				"url": {
					"raw": "localhost:10000/api/v1/logs/f47ac10b-58cc-4372-a567-0e02b2c3d479",
					"host": [
						"localhost"
					],
					"port": "10000",
					"path": [
						"api",
						"v1",
						"logs",
						"f47ac10b-58cc-4372-a567-0e02b2c3d479"
					]
				}
			},
			"response": []
		},
		{
			"name": "GET /api/v1/logs/export",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{jwt_token}}"
					}
				],
				"url": {
					"raw": "localhost:10000/api/v1/logs/export?format=csv&start_time=2025-09-01T00:00:00Z&end_time=2025-09-30T23:59:59Z&severity=CRITICAL",
					"host": [
						"localhost"
					],
					"port": "10000",
					"path": [
						"api",
						"v1",
						"logs",
						"export"
					],
					"query": [
						{
							"key": "format",
							"value": "csv"
						},
						{
							"key": "start_time",
							"value": "2025-09-01T00:00:00Z"
						},
						{
							"key": "end_time",
							"value": "2025-09-30T23:59:59Z"
						},
						{
							"key": "severity",
							"value": "CRITICAL"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "GET /api/v1/logs/stats",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{jwt_token}}"
					}
				],
				"url": {
					"raw": "localhost:10000/api/v1/logs/stats?start_time=2025-09-01T00:00:00Z&end_time=2025-09-30T23:59:59Z&group_by=action,resource_type",
					"host": [
						"localhost"
					],
					"port": "10000",
					"path": [
						"api",
						"v1",
						"logs",
						"stats"
					],
					"query": [
						{
							"key": "start_time",
							"value": "2025-09-01T00:00:00Z"
						},
						{
							"key": "end_time",
							"value": "2025-09-30T23:59:59Z"
						},
						{
							"key": "group_by",
							"value": "action,resource_type"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "POST /api/v1/logs/bulk",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{jwt_token}}"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "[\n  {\n    \"tenant_id\": \"33333333-3333-3333-3333-333333333333\",\n    \"user_id\": \"admin-8901\",\n    \"session_id\": \"sess-xyz789pqr\",\n    \"action\": \"DELETE\",\n    \"resource_type\": \"user_account\",\n    \"resource_id\": \"acc-12345\",\n    \"message\": \"User account permanently deleted due to GDPR request\",\n    \"metadata\": {\n      \"request_id\": \"req-gdpr-001\",\n      \"correlation_id\": \"corr-delete-789\",\n      \"source\": \"admin-panel\",\n      \"reason\": \"gdpr_compliance\",\n      \"approved_by\": \"legal-team\"\n    },\n    \"before_state\": {\n      \"username\": \"john.doe@company.com\",\n      \"status\": \"active\",\n      \"last_login\": \"2025-09-15T10:30:00Z\",\n      \"role\": \"employee\"\n    },\n    \"after_state\": null,\n    \"severity\": \"CRITICAL\",\n    \"timestamp\": \"2025-09-20T16:22:45Z\",\n    \"ip_address\": \"172.16.0.25\",\n    \"user_agent\": \"AdminPortal/3.2.1 (Windows NT 10.0; Win64; x64)\"\n  },\n  {\n    \"tenant_id\": \"33333333-3333-3333-3333-333333333333\",\n    \"user_id\": \"system-automated\",\n    \"session_id\": \"sess-auto-backup\",\n    \"action\": \"UPDATE\",\n    \"resource_type\": \"database\",\n    \"resource_id\": \"db-prod-001\",\n    \"message\": \"Automated database backup completed successfully\",\n    \"metadata\": {\n      \"request_id\": \"req-backup-daily\",\n      \"correlation_id\": \"corr-backup-456\",\n      \"source\": \"cron-job\",\n      \"backup_size\": \"2.4GB\",\n      \"backup_location\": \"s3://backups/prod/2025-09-10\"\n    },\n    \"before_state\": {\n      \"last_backup\": \"2025-09-09T02:00:00Z\",\n      \"status\": \"running\"\n    },\n    \"after_state\": {\n      \"last_backup\": \"2025-09-10T02:00:00Z\",\n      \"status\": \"completed\",\n      \"backup_id\": \"bkp-20250910-020000\"\n    },\n    \"severity\": \"INFO\",\n    \"timestamp\": \"2025-09-10T02:15:33Z\",\n    \"ip_address\": \"10.1.1.10\",\n    \"user_agent\": \"BackupService/1.5.2 (Linux; automated)\"\n  },\n  {\n    \"tenant_id\": \"44444444-4444-4444-4444-444444444444\",\n    \"user_id\": \"security-scanner\",\n    \"session_id\": \"sess-security-scan\",\n    \"action\": \"VIEW\",\n    \"resource_type\": \"security_config\",\n    \"resource_id\": \"sec-config-001\",\n    \"message\": \"Security vulnerability scan detected potential issues\",\n    \"metadata\": {\n      \"request_id\": \"req-sec-scan-weekly\",\n      \"correlation_id\": \"corr-vuln-check\",\n      \"source\": \"security-scanner\",\n      \"vulnerabilities_found\": 3,\n      \"scan_type\": \"automated\"\n    },\n    \"before_state\": null,\n    \"after_state\": {\n      \"scan_completed\": true,\n      \"issues_found\": 3,\n      \"severity_levels\": [\"medium\", \"low\", \"low\"]\n    },\n    \"severity\": \"WARNING\",\n    \"timestamp\": \"2025-09-05T14:45:20Z\",\n    \"ip_address\": \"10.0.5.100\",\n    \"user_agent\": \"SecurityScanner/2.8.1 (Ubuntu 22.04; automated)\"\n  }\n]"
				},
				"url": {
					"raw": "localhost:10000/api/v1/logs/bulk",
					"host": [
						"localhost"
					],
					"port": "10000",
					"path": [
						"api",
						"v1",
						"logs",
						"bulk"
					]
				}
			},
			"response": []
		},
		{
			"name": "DELETE /api/v1/logs/cleanup",
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{jwt_token}}"
					}
				],
				"url": {
					"raw": "localhost:10000/api/v1/logs/cleanup?before_date=2025-06-01&tenant_id=33333333-3333-3333-3333-333333333333",
					"host": [
						"localhost"
					],
					"port": "10000",
					"path": [
						"api",
						"v1",
						"logs",
						"cleanup"
					],
					"query": [
						{
							"key": "before_date",
							"value": "2025-06-01"
						},
						{
							"key": "tenant_id",
							"value": "33333333-3333-3333-3333-333333333333"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "WS /api/v1/logs/stream",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{jwt_token}}"
					}
				],
				"url": {
					"raw": "localhost:10000/api/v1/logs/stream",
					"host": [
						"localhost"
					],
					"port": "10000",
					"path": [
						"api",
						"v1",
						"logs",
						"stream"
					]
				}
			},
			"response": []
		},
		{
			"name": "GET /api/v1/tenants",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{jwt_token}}"
					}
				],
				"url": {
					"raw": "localhost:10000/api/v1/tenants",
					"host": [
						"localhost"
					],
					"port": "10000",
					"path": [
						"api",
						"v1",
						"tenants"
					]
				}
			},
			"response": []
		},
		{
			"name": "POST /api/v1/tenants",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{jwt_token}}"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"name\": \"Enterprise Corp\"\n}"
				},
				"url": {
					"raw": "localhost:10000/api/v1/tenants",
					"host": [
						"localhost"
					],
					"port": "10000",
					"path": [
						"api",
						"v1",
						"tenants"
					]
				}
			},
			"response": []
		}
	],
	"variable": [
		{
			"key": "jwt_token",
			"value": "YOUR_JWT_TOKEN_HERE"
		}
	]
}